<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Budget Tracker - Smart Money Management</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Free budget tracker for students. Manage your monthly income, expenses, and savings with our easy-to-use budget management tool.">
    <meta name="keywords" content="budget tracker, student budget, money management, expense tracker, financial planning">
    <meta name="author" content="Student Budget Tracker">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #4f46e5;
            --secondary-color: #06b6d4;
            --success-color: #10b981;
            --danger-color: #ef4444;
            --warning-color: #f59e0b;
            --dark-bg: #0f172a;
            --dark-card: #1e293b;
            --dark-text: #f1f5f9;
            --dark-border: #334155;
            --light-bg: #f8fafc;
            --light-card: #ffffff;
            --light-text: #1e293b;
            --light-border: #e2e8f0;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--light-bg);
            color: var(--light-text);
            transition: all 0.3s ease;
            line-height: 1.6;
        }

        body.dark-mode {
            background: var(--dark-bg);
            color: var(--dark-text);
        }

        /* Header */
        .header {
            background: var(--light-card);
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 1px solid var(--light-border);
            transition: all 0.3s ease;
        }

        body.dark-mode .header {
            background: var(--dark-card);
            border-bottom: 1px solid var(--dark-border);
        }

        .nav {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: bold;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .theme-toggle {
            background: var(--light-card);
            border: 2px solid var(--light-border);
            border-radius: 50px;
            padding: 0.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        body.dark-mode .theme-toggle {
            background: var(--dark-card);
            border-color: var(--dark-border);
        }

        .theme-toggle:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .theme-icon {
            font-size: 1.2rem;
        }

        /* Main Container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        /* Summary Cards */
        .summary-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .summary-card {
            background: var(--light-card);
            padding: 1.5rem;
            border-radius: 12px;
            box-shadow: var(--shadow);
            border: 1px solid var(--light-border);
            transition: all 0.3s ease;
        }

        body.dark-mode .summary-card {
            background: var(--dark-card);
            border-color: var(--dark-border);
        }

        .summary-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-lg);
        }

        .summary-title {
            font-size: 0.875rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: 0.5rem;
            opacity: 0.7;
        }

        .summary-amount {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .income { color: var(--success-color); }
        .expense { color: var(--danger-color); }
        .balance { color: var(--primary-color); }
        .savings { color: var(--warning-color); }

        /* Form Section */
        .form-section {
            background: var(--light-card);
            padding: 2rem;
            border-radius: 12px;
            box-shadow: var(--shadow);
            border: 1px solid var(--light-border);
            margin-bottom: 2rem;
            transition: all 0.3s ease;
        }

        body.dark-mode .form-section {
            background: var(--dark-card);
            border-color: var(--dark-border);
        }

        .form-title {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 1.5rem;
            color: var(--primary-color);
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-group label {
            font-weight: 600;
            margin-bottom: 0.5rem;
            font-size: 0.875rem;
        }

        .form-group input,
        .form-group select {
            padding: 0.75rem;
            border: 2px solid var(--light-border);
            border-radius: 8px;
            font-size: 1rem;
            background: var(--light-bg);
            color: var(--light-text);
            transition: all 0.3s ease;
        }

        body.dark-mode .form-group input,
        body.dark-mode .form-group select {
            border-color: var(--dark-border);
            background: var(--dark-bg);
            color: var(--dark-text);
        }

        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
        }

        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .btn-success {
            background: var(--success-color);
            color: white;
        }

        .btn-danger {
            background: var(--danger-color);
            color: white;
        }

        /* Transactions Section */
        .transactions-section {
            background: var(--light-card);
            padding: 2rem;
            border-radius: 12px;
            box-shadow: var(--shadow);
            border: 1px solid var(--light-border);
            margin-bottom: 2rem;
            transition: all 0.3s ease;
        }

        body.dark-mode .transactions-section {
            background: var(--dark-card);
            border-color: var(--dark-border);
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .filter-buttons {
            display: flex;
            gap: 0.5rem;
        }

        .filter-btn {
            padding: 0.5rem 1rem;
            border: 2px solid var(--light-border);
            background: transparent;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.875rem;
            font-weight: 600;
        }

        body.dark-mode .filter-btn {
            border-color: var(--dark-border);
            color: var(--dark-text);
        }

        .filter-btn.active {
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }

        .transactions-list {
            max-height: 400px;
            overflow-y: auto;
        }

        .transaction-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            border: 1px solid var(--light-border);
            border-radius: 8px;
            margin-bottom: 0.5rem;
            transition: all 0.3s ease;
        }

        body.dark-mode .transaction-item {
            border-color: var(--dark-border);
        }

        .transaction-item:hover {
            transform: translateX(4px);
            box-shadow: var(--shadow);
        }

        .transaction-info {
            display: flex;
            flex-direction: column;
            gap: 0.25rem;
        }

        .transaction-title {
            font-weight: 600;
            font-size: 1rem;
        }

        .transaction-category {
            font-size: 0.875rem;
            opacity: 0.7;
            text-transform: capitalize;
        }

        .transaction-amount {
            font-weight: bold;
            font-size: 1.125rem;
        }

        .transaction-date {
            font-size: 0.875rem;
            opacity: 0.6;
        }

        .delete-btn {
            background: var(--danger-color);
            color: white;
            border: none;
            padding: 0.5rem;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .delete-btn:hover {
            transform: scale(1.1);
        }

        /* Charts Section */
        .charts-section {
            display: grid;
            grid-template-columns: 1fr;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .chart-card {
            background: var(--light-card);
            padding: 2rem;
            border-radius: 12px;
            box-shadow: var(--shadow);
            border: 1px solid var(--light-border);
            transition: all 0.3s ease;
        }

        body.dark-mode .chart-card {
            background: var(--dark-card);
            border-color: var(--dark-border);
        }

        .chart-title {
            font-size: 1.25rem;
            font-weight: bold;
            margin-bottom: 1.5rem;
            text-align: center;
        }

        .chart-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            align-items: start;
        }

        .chart-left {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1rem;
        }

        .chart-right {
            display: flex;
            flex-direction: column;
        }

        /* Calendar Styles */
        .calendar {
            width: 100%;
            max-width: 100%;
            margin: 0 auto;
            height: fit-content;
        }

        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: var(--light-card);
            border: 1px solid var(--light-border);
            border-radius: 12px 12px 0 0;
            padding: 1.5rem;
            margin-bottom: 0;
            gap: 1rem;
        }

        body.dark-mode .calendar-header {
            background: var(--dark-card);
            border-color: var(--dark-border);
        }

        .calendar-nav {
            display: flex;
            gap: 0.5rem;
            flex-shrink: 0;
        }

        .calendar-nav-btn {
            padding: 0.75rem 1rem;
            border: none;
            background: var(--primary-color);
            color: white;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.1rem;
            min-width: 45px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
        }

        .calendar-nav-btn:hover {
            background: var(--secondary-color);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(79, 70, 229, 0.3);
        }

        .calendar-month {
            font-weight: bold;
            font-size: 1.3rem;
            text-align: center;
            flex: 1;
            color: var(--primary-color);
            letter-spacing: 0.5px;
        }

        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 1px;
            background: var(--light-border);
            border-radius: 0 0 12px 12px;
            overflow: hidden;
            border: 1px solid var(--light-border);
            border-top: none;
        }

        body.dark-mode .calendar-grid {
            background: var(--dark-border);
            border-color: var(--dark-border);
        }

        .calendar-day-header {
            text-align: center;
            font-weight: 600;
            font-size: 0.75rem;
            padding: 1rem 0.25rem;
            color: var(--primary-color);
            background: var(--light-bg);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            border-bottom: 1px solid var(--light-border);
        }

        body.dark-mode .calendar-day-header {
            background: var(--dark-bg);
            border-bottom-color: var(--dark-border);
        }

        .calendar-day {
            aspect-ratio: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--light-card);
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            font-size: 0.875rem;
            font-weight: 500;
            border: none;
            min-height: 40px;
        }

        body.dark-mode .calendar-day {
            background: var(--dark-card);
        }

        .calendar-day:hover {
            background: var(--primary-color);
            color: white;
            transform: scale(1.05);
            z-index: 2;
        }

        .calendar-day.other-month {
            opacity: 0.4;
            background: var(--light-bg);
        }

        body.dark-mode .calendar-day.other-month {
            background: var(--dark-bg);
        }

        .calendar-day.today {
            background: var(--primary-color);
            color: white;
            font-weight: bold;
            box-shadow: 0 2px 8px rgba(79, 70, 229, 0.3);
        }

        .calendar-day.has-transaction {
            background: var(--success-color);
            color: white;
            font-weight: bold;
        }

        .calendar-day.has-expense {
            background: var(--danger-color);
            color: white;
            font-weight: bold;
        }

        .calendar-day.has-income {
            background: var(--warning-color);
            color: white;
            font-weight: bold;
        }

        .calendar-day.has-note {
            position: relative;
        }

        .calendar-day.has-note::after {
            content: 'üìù';
            position: absolute;
            top: 2px;
            right: 2px;
            font-size: 0.6rem;
            opacity: 0.8;
        }

        .transaction-indicator {
            position: absolute;
            bottom: 2px;
            right: 2px;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: var(--primary-color);
        }

        /* Note Modal Styles */
        .note-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .note-modal.show {
            opacity: 1;
            visibility: visible;
        }

        .note-modal-content {
            background: var(--light-card);
            border-radius: 12px;
            padding: 2rem;
            max-width: 90%;
            width: 400px;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: var(--shadow-lg);
            transform: scale(0.9);
            transition: transform 0.3s ease;
        }

        body.dark-mode .note-modal-content {
            background: var(--dark-card);
        }

        .note-modal.show .note-modal-content {
            transform: scale(1);
        }

        .note-modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .note-modal-title {
            font-size: 1.25rem;
            font-weight: bold;
            color: var(--primary-color);
        }

        .note-modal-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            opacity: 0.7;
            transition: opacity 0.3s ease;
        }

        .note-modal-close:hover {
            opacity: 1;
        }

        .note-date {
            font-size: 0.875rem;
            color: var(--primary-color);
            margin-bottom: 1rem;
            font-weight: 600;
        }

        .note-textarea {
            width: 100%;
            min-height: 120px;
            padding: 1rem;
            border: 2px solid var(--light-border);
            border-radius: 8px;
            background: var(--light-bg);
            color: var(--light-text);
            font-family: inherit;
            font-size: 1rem;
            resize: vertical;
            transition: border-color 0.3s ease;
        }

        body.dark-mode .note-textarea {
            border-color: var(--dark-border);
            background: var(--dark-bg);
            color: var(--dark-text);
        }

        .note-textarea:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
        }

        .note-actions {
            display: flex;
            gap: 1rem;
            margin-top: 1.5rem;
            justify-content: flex-end;
        }

        .note-btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .note-btn.save {
            background: var(--success-color);
            color: white;
        }

        .note-btn.save:hover {
            background: #059669;
            transform: translateY(-1px);
        }

        .note-btn.delete {
            background: var(--danger-color);
            color: white;
        }

        .note-btn.delete:hover {
            background: #dc2626;
            transform: translateY(-1px);
        }

        .note-btn.cancel {
            background: transparent;
            color: var(--light-text);
            border: 2px solid var(--light-border);
        }

        body.dark-mode .note-btn.cancel {
            color: var(--dark-text);
            border-color: var(--dark-border);
        }

        .note-btn.cancel:hover {
            background: var(--light-border);
        }

        body.dark-mode .note-btn.cancel:hover {
            background: var(--dark-border);
        }

        /* Pie Chart Styles */
        .pie-chart-container {
            position: relative;
            width: 180px;
            height: 180px;
            margin: 0 auto;
        }

        .pie-chart {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            position: relative;
            background: conic-gradient(
                var(--primary-color) 0deg 0deg,
                var(--primary-color) 0deg 0deg
            );
            transition: all 0.5s ease;
        }

        .pie-chart::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 60%;
            height: 60%;
            background: var(--light-card);
            border-radius: 50%;
        }

        body.dark-mode .pie-chart::before {
            background: var(--dark-card);
        }

        .pie-center {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            font-size: 0.875rem;
            font-weight: bold;
            color: var(--primary-color);
        }

        .chart-legend {
            margin-top: 0.5rem;
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            max-height: 150px;
            overflow-y: auto;
            width: 100%;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.875rem;
            padding: 0.25rem;
            border-radius: 4px;
            transition: all 0.3s ease;
        }

        .legend-item:hover {
            background: rgba(79, 70, 229, 0.1);
        }

        .legend-color {
            width: 12px;
            height: 12px;
            border-radius: 2px;
            flex-shrink: 0;
        }

        .legend-text {
            flex: 1;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .legend-percentage {
            font-weight: bold;
            color: var(--primary-color);
        }

        /* Time Period Selector */
        .time-selector {
            background: var(--light-card);
            padding: 1.5rem;
            border-radius: 12px;
            box-shadow: var(--shadow);
            border: 1px solid var(--light-border);
            margin-bottom: 2rem;
            transition: all 0.3s ease;
        }

        body.dark-mode .time-selector {
            background: var(--dark-card);
            border-color: var(--dark-border);
        }

        .time-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .time-nav {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .time-btn {
            padding: 0.5rem 1rem;
            border: 2px solid var(--light-border);
            background: transparent;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
        }

        body.dark-mode .time-btn {
            border-color: var(--dark-border);
            color: var(--dark-text);
        }

        .time-btn.active {
            background: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }

        .time-btn:hover {
            transform: translateY(-2px);
        }

        .current-period {
            font-size: 1.25rem;
            font-weight: bold;
            color: var(--primary-color);
        }

        /* Budget Goals */
        .goals-section {
            background: var(--light-card);
            padding: 2rem;
            border-radius: 12px;
            box-shadow: var(--shadow);
            border: 1px solid var(--light-border);
            margin-bottom: 2rem;
            transition: all 0.3s ease;
        }

        body.dark-mode .goals-section {
            background: var(--dark-card);
            border-color: var(--dark-border);
        }

        .goals-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }

        .goal-card {
            background: var(--light-bg);
            padding: 1rem;
            border-radius: 8px;
            border: 1px solid var(--light-border);
            transition: all 0.3s ease;
        }

        body.dark-mode .goal-card {
            background: var(--dark-bg);
            border-color: var(--dark-border);
        }

        .goal-card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow);
        }

        .goal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
        }

        .goal-category {
            font-weight: 600;
            text-transform: capitalize;
        }

        .goal-amount {
            font-size: 0.875rem;
            opacity: 0.7;
        }

        .goal-progress {
            width: 100%;
            height: 8px;
            background: var(--light-border);
            border-radius: 4px;
            overflow: hidden;
            margin-top: 0.5rem;
        }

        body.dark-mode .goal-progress {
            background: var(--dark-border);
        }

        .goal-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--success-color), var(--warning-color));
            transition: width 0.3s ease;
        }

        .goal-bar.over {
            background: var(--danger-color);
        }

        /* Search and Quick Actions */
        .search-section {
            background: var(--light-card);
            padding: 1.5rem;
            border-radius: 12px;
            box-shadow: var(--shadow);
            border: 1px solid var(--light-border);
            margin-bottom: 2rem;
            transition: all 0.3s ease;
        }

        body.dark-mode .search-section {
            background: var(--dark-card);
            border-color: var(--dark-border);
        }

        .search-controls {
            display: flex;
            gap: 1rem;
            align-items: center;
            flex-wrap: wrap;
        }

        .search-input {
            flex: 1;
            min-width: 200px;
            padding: 0.75rem;
            border: 2px solid var(--light-border);
            border-radius: 8px;
            background: var(--light-bg);
            color: var(--light-text);
        }

        body.dark-mode .search-input {
            border-color: var(--dark-border);
            background: var(--dark-bg);
            color: var(--dark-text);
        }

        .quick-actions {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .quick-btn {
            padding: 0.5rem 1rem;
            border: 2px solid var(--primary-color);
            background: transparent;
            color: var(--primary-color);
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.875rem;
            font-weight: 600;
        }

        .quick-btn:hover {
            background: var(--primary-color);
            color: white;
            transform: translateY(-2px);
        }

        /* Notifications */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--light-card);
            border: 1px solid var(--light-border);
            border-radius: 8px;
            padding: 1rem;
            box-shadow: var(--shadow-lg);
            z-index: 1000;
            transform: translateX(400px);
            transition: transform 0.3s ease;
            max-width: 300px;
        }

        body.dark-mode .notification {
            background: var(--dark-card);
            border-color: var(--dark-border);
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.success {
            border-left: 4px solid var(--success-color);
        }

        .notification.warning {
            border-left: 4px solid var(--warning-color);
        }

        .notification.error {
            border-left: 4px solid var(--danger-color);
        }

        .notification-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
        }

        .notification-title {
            font-weight: 600;
            font-size: 0.875rem;
        }

        .notification-close {
            background: none;
            border: none;
            cursor: pointer;
            font-size: 1.2rem;
            opacity: 0.7;
        }

        .notification-message {
            font-size: 0.875rem;
            opacity: 0.8;
        }

        /* Reminders Section */
        .reminders-section {
            background: var(--light-card);
            padding: 2rem;
            border-radius: 12px;
            box-shadow: var(--shadow);
            border: 1px solid var(--light-border);
            margin-bottom: 2rem;
            transition: all 0.3s ease;
        }

        body.dark-mode .reminders-section {
            background: var(--dark-card);
            border-color: var(--dark-border);
        }

        .reminder-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            border: 1px solid var(--light-border);
            border-radius: 8px;
            margin-bottom: 0.5rem;
            transition: all 0.3s ease;
        }

        body.dark-mode .reminder-item {
            border-color: var(--dark-border);
        }

        .reminder-info {
            display: flex;
            flex-direction: column;
            gap: 0.25rem;
        }

        .reminder-title {
            font-weight: 600;
        }

        .reminder-date {
            font-size: 0.875rem;
            opacity: 0.7;
        }

        .reminder-actions {
            display: flex;
            gap: 0.5rem;
        }

        .reminder-btn {
            padding: 0.5rem;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .reminder-btn.complete {
            background: var(--success-color);
            color: white;
        }

        .reminder-btn.delete {
            background: var(--danger-color);
            color: white;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }
            
            .nav {
                padding: 1rem;
            }
            
            .form-grid {
                grid-template-columns: 1fr;
            }
            
            .charts-section {
                grid-template-columns: 1fr;
            }
            
            .section-header {
                flex-direction: column;
                gap: 1rem;
                align-items: stretch;
            }
            
            .filter-buttons {
                justify-content: center;
            }

            .time-controls {
                flex-direction: column;
                align-items: stretch;
            }

            .search-controls {
                flex-direction: column;
                align-items: stretch;
            }

            .notification {
                right: 10px;
                left: 10px;
                max-width: none;
            }

            .chart-content {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }

            .chart-left {
                order: 2;
            }

            .chart-right {
                order: 1;
            }

            .calendar {
                max-width: 100%;
            }

            .calendar-header {
                padding: 1rem;
                gap: 0.5rem;
            }

            .calendar-nav-btn {
                padding: 0.6rem 0.8rem;
                min-width: 40px;
                font-size: 1rem;
            }

            .calendar-month {
                font-size: 1.1rem;
            }

            .calendar-day {
                min-height: 35px;
                font-size: 0.8rem;
            }

            .calendar-day-header {
                font-size: 0.7rem;
                padding: 0.75rem 0.1rem;
            }

            .pie-chart-container {
                width: 150px;
                height: 150px;
            }

            .note-modal-content {
                width: 95%;
                padding: 1.5rem;
            }

            .note-actions {
                flex-direction: column;
                gap: 0.5rem;
            }

            .note-btn {
                width: 100%;
                padding: 1rem;
            }
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease-out;
        }

        /* Scrollbar Styling */
        .transactions-list::-webkit-scrollbar {
            width: 6px;
        }

        .transactions-list::-webkit-scrollbar-track {
            background: var(--light-border);
            border-radius: 3px;
        }

        body.dark-mode .transactions-list::-webkit-scrollbar-track {
            background: var(--dark-border);
        }

        .transactions-list::-webkit-scrollbar-thumb {
            background: var(--primary-color);
            border-radius: 3px;
        }

        .transactions-list::-webkit-scrollbar-thumb:hover {
            background: var(--secondary-color);
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="nav">
            <div class="logo">üí∞ Student Budget Tracker</div>
            <div class="theme-toggle" id="themeToggle">
                <span class="theme-icon">üåô</span>
            </div>
        </div>
    </div>

    <div class="container">
        <!-- Time Period Selector -->
        <div class="time-selector fade-in">
            <div class="time-controls">
                <div class="time-nav">
                    <button class="time-btn" data-period="week">Week</button>
                    <button class="time-btn active" data-period="month">Month</button>
                    <button class="time-btn" data-period="quarter">Quarter</button>
                    <button class="time-btn" data-period="year">Year</button>
                </div>
                <div class="current-period" id="currentPeriod">December 2024</div>
            </div>
        </div>

        <!-- Summary Cards -->
        <div class="summary-grid">
            <div class="summary-card fade-in">
                <div class="summary-title">Total Income</div>
                <div class="summary-amount income" id="totalIncome">‚Çπ0</div>
                <div class="summary-subtitle">This month</div>
            </div>
            <div class="summary-card fade-in">
                <div class="summary-title">Total Expenses</div>
                <div class="summary-amount expense" id="totalExpense">‚Çπ0</div>
                <div class="summary-subtitle">This month</div>
            </div>
            <div class="summary-card fade-in">
                <div class="summary-title">Balance</div>
                <div class="summary-amount balance" id="balance">‚Çπ0</div>
                <div class="summary-subtitle">Available</div>
            </div>
            <div class="summary-card fade-in">
                <div class="summary-title">Savings Rate</div>
                <div class="summary-amount savings" id="savingsRate">0%</div>
                <div class="summary-subtitle">Of income</div>
            </div>
        </div>

        <!-- Budget Goals -->
        <div class="goals-section fade-in">
            <h2 class="form-title">Budget Goals</h2>
            <div class="goals-grid" id="goalsGrid">
                <!-- Goals will be added here dynamically -->
            </div>
            <button class="btn btn-primary" onclick="budgetTracker.showAddGoalModal()" style="margin-top: 1rem;">
                Add Budget Goal
            </button>
        </div>

        <!-- Search and Quick Actions -->
        <div class="search-section fade-in">
            <div class="search-controls">
                <input type="text" class="search-input" id="searchInput" placeholder="Search transactions...">
                <div class="quick-actions">
                    <button class="quick-btn" onclick="budgetTracker.quickAdd('food', 500)">üçï Food ‚Çπ500</button>
                    <button class="quick-btn" onclick="budgetTracker.quickAdd('transport', 200)">üöå Transport ‚Çπ200</button>
                    <button class="quick-btn" onclick="budgetTracker.quickAdd('entertainment', 300)">üé¨ Entertainment ‚Çπ300</button>
                    <button class="quick-btn" onclick="budgetTracker.quickAdd('education', 1000)">üìö Education ‚Çπ1000</button>
                </div>
            </div>
        </div>

        <!-- Add Transaction Form -->
        <div class="form-section fade-in">
            <h2 class="form-title">Add New Transaction</h2>
            <form id="transactionForm">
                <div class="form-grid">
                    <div class="form-group">
                        <label for="description">Description</label>
                        <input type="text" id="description" required placeholder="e.g., Groceries, Salary">
                    </div>
                    <div class="form-group">
                        <label for="amount">Amount (‚Çπ)</label>
                        <input type="number" id="amount" required placeholder="0.00" step="0.01" min="0">
                    </div>
                    <div class="form-group">
                        <label for="type">Type</label>
                        <select id="type" required>
                            <option value="">Select type</option>
                            <option value="income">Income</option>
                            <option value="expense">Expense</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="category">Category</label>
                        <select id="category" required>
                            <option value="">Select category</option>
                            <option value="food">Food & Dining</option>
                            <option value="transport">Transportation</option>
                            <option value="entertainment">Entertainment</option>
                            <option value="education">Education</option>
                            <option value="health">Healthcare</option>
                            <option value="shopping">Shopping</option>
                            <option value="utilities">Utilities</option>
                            <option value="salary">Salary</option>
                            <option value="freelance">Freelance</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                </div>
                <button type="submit" class="btn btn-primary">Add Transaction</button>
            </form>
        </div>

        <!-- Transactions List -->
        <div class="transactions-section fade-in">
            <div class="section-header">
                <h2 class="form-title">Recent Transactions</h2>
                <div class="filter-buttons">
                    <button class="filter-btn active" data-filter="all">All</button>
                    <button class="filter-btn" data-filter="income">Income</button>
                    <button class="filter-btn" data-filter="expense">Expenses</button>
                </div>
            </div>
            <div class="transactions-list" id="transactionsList">
                <!-- Transactions will be added here dynamically -->
            </div>
        </div>

        <!-- Charts Section -->
        <div class="charts-section">
            <div class="chart-card fade-in">
                <h3 class="chart-title">Expense Breakdown & Calendar</h3>
                <div class="chart-content">
                    <div class="chart-left">
                        <div class="pie-chart-container">
                            <div class="pie-chart" id="expenseChart"></div>
                            <div class="pie-center" id="pieCenter">‚Çπ0</div>
                        </div>
                        <div class="chart-legend" id="expenseLegend">
                            <!-- Legend items will be added here -->
                        </div>
                    </div>
                    <div class="chart-right">
                        <div class="calendar" id="monthlyCalendar">
                            <div class="calendar-header">
                                <div class="calendar-nav">
                                    <button class="calendar-nav-btn" onclick="budgetTracker.previousMonth()">‚Äπ</button>
                                    <button class="calendar-nav-btn" onclick="budgetTracker.nextMonth()">‚Ä∫</button>
                                </div>
                                <div class="calendar-month" id="calendarMonth">December 2024</div>
                            </div>
                            <div class="calendar-grid" id="calendarGrid">
                                <!-- Calendar will be generated here -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Reminders Section -->
        <div class="reminders-section fade-in">
            <h2 class="form-title">Reminders & Bills</h2>
            <div id="remindersList">
                <!-- Reminders will be added here dynamically -->
            </div>
            <button class="btn btn-primary" onclick="budgetTracker.showAddReminderModal()" style="margin-top: 1rem;">
                Add Reminder
            </button>
        </div>
    </div>

            <!-- Notification Container -->
        <div id="notificationContainer"></div>

        <!-- Note Modal -->
        <div class="note-modal" id="noteModal">
            <div class="note-modal-content">
                <div class="note-modal-header">
                    <div class="note-modal-title">Add Note</div>
                    <button class="note-modal-close" onclick="budgetTracker.closeNoteModal()">√ó</button>
                </div>
                <div class="note-date" id="noteDate">December 15, 2024</div>
                <textarea class="note-textarea" id="noteTextarea" placeholder="Write your note here..."></textarea>
                <div class="note-actions">
                    <button class="note-btn cancel" onclick="budgetTracker.closeNoteModal()">Cancel</button>
                    <button class="note-btn delete" onclick="budgetTracker.deleteNote()" id="deleteNoteBtn" style="display: none;">Delete</button>
                    <button class="note-btn save" onclick="budgetTracker.saveNote()">Save</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Initialize the application
        class BudgetTracker {
                    constructor() {
            this.transactions = JSON.parse(localStorage.getItem('transactions')) || [];
            this.goals = JSON.parse(localStorage.getItem('budgetGoals')) || [];
            this.reminders = JSON.parse(localStorage.getItem('reminders')) || [];
            this.notes = JSON.parse(localStorage.getItem('calendarNotes')) || {};
            this.currentFilter = 'all';
            this.currentPeriod = 'month';
            this.currentDate = new Date();
            this.selectedDate = null;
            this.init();
        }

            init() {
                this.setupEventListeners();
                this.loadTheme();
                this.updateUI();
                this.checkReminders();
                this.setupNotifications();
            }

            setupEventListeners() {
                // Form submission
                document.getElementById('transactionForm').addEventListener('submit', (e) => {
                    e.preventDefault();
                    this.addTransaction();
                });

                // Theme toggle
                document.getElementById('themeToggle').addEventListener('click', () => {
                    this.toggleTheme();
                });

                // Filter buttons
                document.querySelectorAll('.filter-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        this.setFilter(e.target.dataset.filter);
                    });
                });

                // Time period buttons
                document.querySelectorAll('.time-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        this.setTimePeriod(e.target.dataset.period);
                    });
                });

                // Search input
                document.getElementById('searchInput').addEventListener('input', (e) => {
                    this.searchTransactions(e.target.value);
                });
            }

            addTransaction() {
                const description = document.getElementById('description').value;
                const amount = parseFloat(document.getElementById('amount').value);
                const type = document.getElementById('type').value;
                const category = document.getElementById('category').value;

                if (!description || !amount || !type || !category) {
                    this.showNotification('Error!', 'Please fill in all fields', 'error');
                    return;
                }

                const transaction = {
                    id: Date.now(),
                    description,
                    amount,
                    type,
                    category,
                    date: new Date().toISOString()
                };

                this.transactions.unshift(transaction);
                this.saveTransactions();
                this.updateUI();
                this.resetForm();
                this.showNotification('Success!', 'Transaction added successfully', 'success');
            }

            deleteTransaction(id) {
                this.transactions = this.transactions.filter(t => t.id !== id);
                this.saveTransactions();
                this.updateUI();
            }

            setFilter(filter) {
                this.currentFilter = filter;
                
                // Update active button
                document.querySelectorAll('.filter-btn').forEach(btn => {
                    btn.classList.remove('active');
                });
                document.querySelector(`[data-filter="${filter}"]`).classList.add('active');
                
                this.updateTransactionsList();
            }

            updateUI() {
                this.updateSummary();
                this.updateTransactionsList();
                this.updateCharts();
                this.updateGoals();
                this.updateReminders();
                this.updateCurrentPeriod();
            }

            updateSummary() {
                const filteredTransactions = this.getFilteredTransactions();
                
                const income = filteredTransactions
                    .filter(t => t.type === 'income')
                    .reduce((sum, t) => sum + t.amount, 0);

                const expense = filteredTransactions
                    .filter(t => t.type === 'expense')
                    .reduce((sum, t) => sum + t.amount, 0);

                const balance = income - expense;
                const savingsRate = income > 0 ? ((balance / income) * 100).toFixed(1) : 0;

                document.getElementById('totalIncome').textContent = `‚Çπ${income.toFixed(2)}`;
                document.getElementById('totalExpense').textContent = `‚Çπ${expense.toFixed(2)}`;
                document.getElementById('balance').textContent = `‚Çπ${balance.toFixed(2)}`;
                document.getElementById('savingsRate').textContent = `${savingsRate}%`;
            }

            getFilteredTransactions() {
                const now = new Date();
                let startDate = new Date();

                switch (this.currentPeriod) {
                    case 'week':
                        startDate.setDate(now.getDate() - 7);
                        break;
                    case 'month':
                        startDate.setMonth(now.getMonth() - 1);
                        break;
                    case 'quarter':
                        startDate.setMonth(now.getMonth() - 3);
                        break;
                    case 'year':
                        startDate.setFullYear(now.getFullYear() - 1);
                        break;
                }

                return this.transactions.filter(t => {
                    const transactionDate = new Date(t.date);
                    return transactionDate >= startDate && transactionDate <= now;
                });
            }

            updateTransactionsList() {
                const container = document.getElementById('transactionsList');
                let filteredTransactions = this.getFilteredTransactions();
                
                if (this.currentFilter !== 'all') {
                    filteredTransactions = filteredTransactions.filter(t => t.type === this.currentFilter);
                }

                if (filteredTransactions.length === 0) {
                    container.innerHTML = '<p style="text-align: center; opacity: 0.7; padding: 2rem;">No transactions found</p>';
                    return;
                }

                container.innerHTML = filteredTransactions.map(transaction => `
                    <div class="transaction-item fade-in">
                        <div class="transaction-info">
                            <div class="transaction-title">${transaction.description}</div>
                            <div class="transaction-category">${transaction.category}</div>
                            <div class="transaction-date">${new Date(transaction.date).toLocaleDateString()}</div>
                        </div>
                        <div style="display: flex; align-items: center; gap: 1rem;">
                            <div class="transaction-amount ${transaction.type === 'income' ? 'income' : 'expense'}">
                                ${transaction.type === 'income' ? '+' : '-'}‚Çπ${transaction.amount.toFixed(2)}
                            </div>
                            <button class="delete-btn" onclick="budgetTracker.deleteTransaction(${transaction.id})">üóëÔ∏è</button>
                        </div>
                    </div>
                `).join('');
            }

            updateCharts() {
                this.updateExpenseChart();
                this.updateCalendar();
            }

            updateExpenseChart() {
                const expenses = this.getFilteredTransactions().filter(t => t.type === 'expense');
                const categoryTotals = {};

                expenses.forEach(expense => {
                    categoryTotals[expense.category] = (categoryTotals[expense.category] || 0) + expense.amount;
                });

                const categories = Object.keys(categoryTotals);
                const amounts = Object.values(categoryTotals);
                const total = amounts.reduce((sum, amount) => sum + amount, 0);

                // Update pie chart center
                document.getElementById('pieCenter').textContent = `‚Çπ${total.toFixed(0)}`;

                if (total === 0) {
                    document.getElementById('expenseChart').style.background = 'conic-gradient(var(--light-border) 0deg 360deg)';
                    document.getElementById('expenseLegend').innerHTML = '<p style="text-align: center; opacity: 0.7;">No expenses to display</p>';
                    return;
                }

                // Generate pie chart gradient
                const colors = ['#4f46e5', '#06b6d4', '#10b981', '#f59e0b', '#ef4444', '#8b5cf6', '#ec4899'];
                let currentAngle = 0;
                let gradientParts = [];

                categories.forEach((category, index) => {
                    const percentage = (categoryTotals[category] / total) * 100;
                    const angle = (percentage / 100) * 360;
                    const color = colors[index % colors.length];
                    
                    gradientParts.push(`${color} ${currentAngle}deg ${currentAngle + angle}deg`);
                    currentAngle += angle;
                });

                const gradient = `conic-gradient(${gradientParts.join(', ')})`;
                document.getElementById('expenseChart').style.background = gradient;

                // Update legend
                const legendHTML = categories.map((category, index) => {
                    const percentage = ((categoryTotals[category] / total) * 100).toFixed(1);
                    const color = colors[index % colors.length];
                    return `
                        <div class="legend-item">
                            <div class="legend-color" style="background: ${color}"></div>
                            <div class="legend-text">
                                <span>${category}</span>
                                <span class="legend-percentage">${percentage}%</span>
                            </div>
                        </div>
                    `;
                }).join('');

                document.getElementById('expenseLegend').innerHTML = legendHTML;
            }

            // Calendar Management
            updateCalendar() {
                this.renderCalendar();
            }

            renderCalendar() {
                const year = this.currentDate.getFullYear();
                const month = this.currentDate.getMonth();
                
                // Update calendar header
                const monthNames = ['January', 'February', 'March', 'April', 'May', 'June',
                                   'July', 'August', 'September', 'October', 'November', 'December'];
                document.getElementById('calendarMonth').textContent = `${monthNames[month]} ${year}`;

                // Get first day of month and number of days
                const firstDay = new Date(year, month, 1);
                const lastDay = new Date(year, month + 1, 0);
                const startDate = new Date(firstDay);
                startDate.setDate(startDate.getDate() - firstDay.getDay());

                const calendarGrid = document.getElementById('calendarGrid');
                calendarGrid.innerHTML = '';

                // Add day headers
                const dayHeaders = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
                dayHeaders.forEach(day => {
                    const dayHeader = document.createElement('div');
                    dayHeader.className = 'calendar-day-header';
                    dayHeader.textContent = day;
                    calendarGrid.appendChild(dayHeader);
                });

                // Generate calendar days
                const today = new Date();
                const currentMonthTransactions = this.getTransactionsForMonth(year, month + 1);

                for (let i = 0; i < 42; i++) {
                    const currentDate = new Date(startDate);
                    currentDate.setDate(startDate.getDate() + i);

                    const dayElement = document.createElement('div');
                    dayElement.className = 'calendar-day';
                    dayElement.textContent = currentDate.getDate();

                    // Check if it's today
                    if (currentDate.toDateString() === today.toDateString()) {
                        dayElement.classList.add('today');
                    }

                    // Check if it's current month
                    if (currentDate.getMonth() !== month) {
                        dayElement.classList.add('other-month');
                    }

                    // Check for notes on this day
                    const dateKey = currentDate.toISOString().split('T')[0];
                    if (this.notes[dateKey]) {
                        dayElement.classList.add('has-note');
                    }

                    // Check for transactions on this day
                    const dayTransactions = currentMonthTransactions.filter(t => {
                        const transactionDate = new Date(t.date);
                        return transactionDate.toDateString() === currentDate.toDateString();
                    });

                    if (dayTransactions.length > 0) {
                        const hasIncome = dayTransactions.some(t => t.type === 'income');
                        const hasExpense = dayTransactions.some(t => t.type === 'expense');
                        
                        if (hasIncome && hasExpense) {
                            dayElement.classList.add('has-transaction');
                        } else if (hasIncome) {
                            dayElement.classList.add('has-income');
                        } else if (hasExpense) {
                            dayElement.classList.add('has-expense');
                        }
                    }

                    // Add click event for notes and calendar
                    dayElement.addEventListener('click', () => {
                        this.handleDayClick(currentDate);
                    });

                    calendarGrid.appendChild(dayElement);
                }
            }

            getTransactionsForMonth(year, month) {
                return this.transactions.filter(t => {
                    const transactionDate = new Date(t.date);
                    return transactionDate.getFullYear() === year && 
                           transactionDate.getMonth() === month - 1;
                });
            }

            previousMonth() {
                this.currentDate.setMonth(this.currentDate.getMonth() - 1);
                this.updateCalendar();
            }

            nextMonth() {
                this.currentDate.setMonth(this.currentDate.getMonth() + 1);
                this.updateCalendar();
            }

            handleDayClick(date) {
                this.selectedDate = date;
                const dateKey = date.toISOString().split('T')[0];
                
                // Check if there's a note for this date
                if (this.notes[dateKey]) {
                    // Show existing note
                    this.showNoteModal(date, this.notes[dateKey]);
                } else {
                    // Show empty note modal
                    this.showNoteModal(date, '');
                }
            }

            showNoteModal(date, noteText) {
                const dateKey = date.toISOString().split('T')[0];
                const formattedDate = date.toLocaleDateString('en-US', { 
                    weekday: 'long', 
                    year: 'numeric', 
                    month: 'long', 
                    day: 'numeric' 
                });

                document.getElementById('noteDate').textContent = formattedDate;
                document.getElementById('noteTextarea').value = noteText;
                
                // Show/hide delete button based on whether note exists
                const deleteBtn = document.getElementById('deleteNoteBtn');
                if (noteText.trim()) {
                    deleteBtn.style.display = 'block';
                } else {
                    deleteBtn.style.display = 'none';
                }

                // Show modal
                document.getElementById('noteModal').classList.add('show');
            }

            closeNoteModal() {
                document.getElementById('noteModal').classList.remove('show');
                this.selectedDate = null;
            }

            saveNote() {
                if (!this.selectedDate) return;

                const noteText = document.getElementById('noteTextarea').value.trim();
                const dateKey = this.selectedDate.toISOString().split('T')[0];

                if (noteText) {
                    this.notes[dateKey] = noteText;
                    this.saveNotes();
                    this.showNotification('Note Saved!', 'Your note has been saved successfully.', 'success');
                } else {
                    // If note is empty, delete it
                    delete this.notes[dateKey];
                    this.saveNotes();
                    this.showNotification('Note Deleted!', 'Empty note has been removed.', 'success');
                }

                this.closeNoteModal();
                this.updateCalendar();
            }

            deleteNote() {
                if (!this.selectedDate) return;

                const dateKey = this.selectedDate.toISOString().split('T')[0];
                delete this.notes[dateKey];
                this.saveNotes();
                
                this.showNotification('Note Deleted!', 'Note has been deleted successfully.', 'success');
                this.closeNoteModal();
                this.updateCalendar();
            }

            saveNotes() {
                localStorage.setItem('calendarNotes', JSON.stringify(this.notes));
            }

            openPhoneCalendar(date) {
                // Format date for calendar URL
                const formattedDate = date.toISOString().split('T')[0];
                
                // Try to open phone calendar
                try {
                    // For mobile devices, try to open native calendar
                    if (navigator.userAgent.match(/Android|iPhone|iPad|iPod/i)) {
                        // Create a calendar event URL
                        const calendarUrl = `calshow://${formattedDate}`;
                        window.location.href = calendarUrl;
                    } else {
                        // For desktop, open Google Calendar
                        const googleCalendarUrl = `https://calendar.google.com/calendar/render?action=TEMPLATE&text=Budget+Check&dates=${formattedDate}/${formattedDate}`;
                        window.open(googleCalendarUrl, '_blank');
                    }
                } catch (error) {
                    // Fallback to Google Calendar
                    const googleCalendarUrl = `https://calendar.google.com/calendar/render?action=TEMPLATE&text=Budget+Check&dates=${formattedDate}/${formattedDate}`;
                    window.open(googleCalendarUrl, '_blank');
                }

                // Show notification
                this.showNotification('Calendar Opened!', `Opening calendar for ${date.toLocaleDateString()}`, 'success');
            }

            // Time Period Management
            setTimePeriod(period) {
                this.currentPeriod = period;
                
                // Update active button
                document.querySelectorAll('.time-btn').forEach(btn => {
                    btn.classList.remove('active');
                });
                document.querySelector(`[data-period="${period}"]`).classList.add('active');
                
                this.updateUI();
            }

            updateCurrentPeriod() {
                const now = new Date();
                let periodText = '';
                
                switch (this.currentPeriod) {
                    case 'week':
                        periodText = `Week of ${now.toLocaleDateString()}`;
                        break;
                    case 'month':
                        periodText = now.toLocaleDateString('en-US', { month: 'long', year: 'numeric' });
                        break;
                    case 'quarter':
                        const quarter = Math.ceil((now.getMonth() + 1) / 3);
                        periodText = `Q${quarter} ${now.getFullYear()}`;
                        break;
                    case 'year':
                        periodText = now.getFullYear().toString();
                        break;
                }
                
                document.getElementById('currentPeriod').textContent = periodText;
            }

            // Search Functionality
            searchTransactions(query) {
                const searchInput = document.getElementById('searchInput');
                const filteredTransactions = this.getFilteredTransactions().filter(t => 
                    t.description.toLowerCase().includes(query.toLowerCase()) ||
                    t.category.toLowerCase().includes(query.toLowerCase())
                );
                
                this.displaySearchResults(filteredTransactions);
            }

            displaySearchResults(transactions) {
                const container = document.getElementById('transactionsList');
                
                if (transactions.length === 0) {
                    container.innerHTML = '<p style="text-align: center; opacity: 0.7; padding: 2rem;">No matching transactions found</p>';
                    return;
                }

                container.innerHTML = transactions.map(transaction => `
                    <div class="transaction-item fade-in">
                        <div class="transaction-info">
                            <div class="transaction-title">${transaction.description}</div>
                            <div class="transaction-category">${transaction.category}</div>
                            <div class="transaction-date">${new Date(transaction.date).toLocaleDateString()}</div>
                        </div>
                        <div style="display: flex; align-items: center; gap: 1rem;">
                            <div class="transaction-amount ${transaction.type === 'income' ? 'income' : 'expense'}">
                                ${transaction.type === 'income' ? '+' : '-'}‚Çπ${transaction.amount.toFixed(2)}
                            </div>
                            <button class="delete-btn" onclick="budgetTracker.deleteTransaction(${transaction.id})">üóëÔ∏è</button>
                        </div>
                    </div>
                `).join('');
            }

            // Quick Add Functionality
            quickAdd(category, amount) {
                const description = this.getQuickAddDescription(category);
                const transaction = {
                    id: Date.now(),
                    description,
                    amount,
                    type: 'expense',
                    category,
                    date: new Date().toISOString()
                };

                this.transactions.unshift(transaction);
                this.saveTransactions();
                this.updateUI();
                this.showNotification('Transaction added!', 'Quick expense added successfully.', 'success');
            }

            getQuickAddDescription(category) {
                const descriptions = {
                    food: 'Quick Food Expense',
                    transport: 'Quick Transport Expense',
                    entertainment: 'Quick Entertainment Expense',
                    education: 'Quick Education Expense'
                };
                return descriptions[category] || 'Quick Expense';
            }

            // Budget Goals Management
            updateGoals() {
                const container = document.getElementById('goalsGrid');
                
                if (this.goals.length === 0) {
                    container.innerHTML = '<p style="text-align: center; opacity: 0.7; grid-column: 1/-1;">No budget goals set. Add your first goal!</p>';
                    return;
                }

                container.innerHTML = this.goals.map(goal => {
                    const spent = this.getFilteredTransactions()
                        .filter(t => t.type === 'expense' && t.category === goal.category)
                        .reduce((sum, t) => sum + t.amount, 0);
                    
                    const percentage = Math.min((spent / goal.amount) * 100, 100);
                    const isOver = spent > goal.amount;
                    
                    return `
                        <div class="goal-card fade-in">
                            <div class="goal-header">
                                <div class="goal-category">${goal.category}</div>
                                <div class="goal-amount">‚Çπ${spent.toFixed(2)} / ‚Çπ${goal.amount.toFixed(2)}</div>
                            </div>
                            <div class="goal-progress">
                                <div class="goal-bar ${isOver ? 'over' : ''}" style="width: ${percentage}%"></div>
                            </div>
                            <button class="delete-btn" onclick="budgetTracker.deleteGoal('${goal.id}')" style="margin-top: 0.5rem;">Delete</button>
                        </div>
                    `;
                }).join('');
            }

            showAddGoalModal() {
                const category = prompt('Enter category for budget goal:');
                if (!category) return;
                
                const amount = parseFloat(prompt('Enter budget amount:'));
                if (!amount || amount <= 0) return;

                const goal = {
                    id: Date.now().toString(),
                    category: category.toLowerCase(),
                    amount: amount
                };

                this.goals.push(goal);
                this.saveGoals();
                this.updateUI();
                this.showNotification('Goal added!', `Budget goal for ${category} set to ‚Çπ${amount}.`, 'success');
            }

            deleteGoal(id) {
                this.goals = this.goals.filter(g => g.id !== id);
                this.saveGoals();
                this.updateUI();
                this.showNotification('Goal deleted!', 'Budget goal removed successfully.', 'success');
            }

            saveGoals() {
                localStorage.setItem('budgetGoals', JSON.stringify(this.goals));
            }

            // Reminders Management
            updateReminders() {
                const container = document.getElementById('remindersList');
                
                if (this.reminders.length === 0) {
                    container.innerHTML = '<p style="text-align: center; opacity: 0.7;">No reminders set. Add your first reminder!</p>';
                    return;
                }

                container.innerHTML = this.reminders.map(reminder => `
                    <div class="reminder-item fade-in">
                        <div class="reminder-info">
                            <div class="reminder-title">${reminder.title}</div>
                            <div class="reminder-date">Due: ${new Date(reminder.dueDate).toLocaleDateString()}</div>
                        </div>
                        <div class="reminder-actions">
                            <button class="reminder-btn complete" onclick="budgetTracker.completeReminder('${reminder.id}')">‚úì</button>
                            <button class="reminder-btn delete" onclick="budgetTracker.deleteReminder('${reminder.id}')">üóëÔ∏è</button>
                        </div>
                    </div>
                `).join('');
            }

            showAddReminderModal() {
                const title = prompt('Enter reminder title:');
                if (!title) return;
                
                const dueDate = prompt('Enter due date (YYYY-MM-DD):');
                if (!dueDate) return;

                const reminder = {
                    id: Date.now().toString(),
                    title,
                    dueDate,
                    completed: false
                };

                this.reminders.push(reminder);
                this.saveReminders();
                this.updateUI();
                this.showNotification('Reminder added!', `Reminder "${title}" set for ${dueDate}.`, 'success');
            }

            completeReminder(id) {
                this.reminders = this.reminders.filter(r => r.id !== id);
                this.saveReminders();
                this.updateUI();
                this.showNotification('Reminder completed!', 'Reminder marked as completed.', 'success');
            }

            deleteReminder(id) {
                this.reminders = this.reminders.filter(r => r.id !== id);
                this.saveReminders();
                this.updateUI();
                this.showNotification('Reminder deleted!', 'Reminder removed successfully.', 'success');
            }

            saveReminders() {
                localStorage.setItem('reminders', JSON.stringify(this.reminders));
            }

            checkReminders() {
                const today = new Date();
                const dueReminders = this.reminders.filter(r => {
                    const dueDate = new Date(r.dueDate);
                    const diffTime = dueDate - today;
                    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
                    return diffDays <= 3 && diffDays >= 0;
                });

                dueReminders.forEach(reminder => {
                    const dueDate = new Date(reminder.dueDate);
                    const diffTime = dueDate - today;
                    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
                    
                    if (diffDays === 0) {
                        this.showNotification('Reminder Due Today!', `"${reminder.title}" is due today!`, 'warning');
                    } else if (diffDays <= 3) {
                        this.showNotification('Reminder Due Soon!', `"${reminder.title}" is due in ${diffDays} days.`, 'warning');
                    }
                });
            }

            // Notification System
            setupNotifications() {
                // Check for overdue reminders every hour
                setInterval(() => {
                    this.checkReminders();
                }, 60 * 60 * 1000);
            }

            showNotification(title, message, type = 'success') {
                const notification = document.createElement('div');
                notification.className = `notification ${type}`;
                notification.innerHTML = `
                    <div class="notification-header">
                        <div class="notification-title">${title}</div>
                        <button class="notification-close" onclick="this.parentElement.parentElement.remove()">√ó</button>
                    </div>
                    <div class="notification-message">${message}</div>
                `;

                document.getElementById('notificationContainer').appendChild(notification);
                
                // Show notification
                setTimeout(() => {
                    notification.classList.add('show');
                }, 100);

                // Auto remove after 5 seconds
                setTimeout(() => {
                    notification.classList.remove('show');
                    setTimeout(() => {
                        notification.remove();
                    }, 300);
                }, 5000);
            }

            resetForm() {
                document.getElementById('transactionForm').reset();
            }

            saveTransactions() {
                localStorage.setItem('transactions', JSON.stringify(this.transactions));
            }

            toggleTheme() {
                document.body.classList.toggle('dark-mode');
                const themeIcon = document.querySelector('.theme-icon');
                themeIcon.textContent = document.body.classList.contains('dark-mode') ? '‚òÄÔ∏è' : 'üåô';
                localStorage.setItem('theme', document.body.classList.contains('dark-mode') ? 'dark' : 'light');
            }

            loadTheme() {
                const savedTheme = localStorage.getItem('theme');
                if (savedTheme === 'dark') {
                    document.body.classList.add('dark-mode');
                    document.querySelector('.theme-icon').textContent = '‚òÄÔ∏è';
                }
            }
        }

        // Initialize the budget tracker
        const budgetTracker = new BudgetTracker();

        // Add some sample data for demonstration
        if (budgetTracker.transactions.length === 0) {
            const sampleData = [
                {
                    id: Date.now() - 4,
                    description: 'Monthly Salary',
                    amount: 15000,
                    type: 'income',
                    category: 'salary',
                    date: new Date().toISOString()
                },
                {
                    id: Date.now() - 3,
                    description: 'Grocery Shopping',
                    amount: 2500,
                    type: 'expense',
                    category: 'food',
                    date: new Date().toISOString()
                },
                {
                    id: Date.now() - 2,
                    description: 'Bus Pass',
                    amount: 800,
                    type: 'expense',
                    category: 'transport',
                    date: new Date().toISOString()
                },
                {
                    id: Date.now() - 1,
                    description: 'Freelance Project',
                    amount: 3000,
                    type: 'income',
                    category: 'freelance',
                    date: new Date().toISOString()
                }
            ];
            
            budgetTracker.transactions = sampleData;
            budgetTracker.saveTransactions();
            budgetTracker.updateUI();
        }
    </script>
</body>
</html> 